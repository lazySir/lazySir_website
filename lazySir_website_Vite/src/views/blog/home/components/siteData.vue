<script setup lang="ts">
import OpcityCard from '@/components/public/opcityCard.vue'
//åŠ è½½è„šæœ¬
// è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ loadScript å‡½æ•°æ¥åŠ è½½å¤–éƒ¨è„šæœ¬
import { loadScript } from '@/utils/index'
import { onMounted, ref } from 'vue'
// å»ºç«™æ—¶é—´
const launchDate = new Date('2025-04-27')
const siteDays = ref(0)

function calculateSiteDays() {
  const now = new Date()
  const diffTime = now.getTime() - launchDate.getTime()
  siteDays.value = Math.floor(diffTime / (1000 * 60 * 60 * 24)) // è½¬æˆå¤©æ•°
}
onMounted(() => {
  calculateSiteDays()
  loadScript(
    'https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js',
    {
      async: true,
      reload: true,
    },
  )
})
</script>

<template>
  <OpcityCard class="w-[17vw] gap-2 flex flex-col">
    <span class="text-sm mb-2">ğŸ“ˆç«™ç‚¹æ•°æ®</span>

    <div class="flex flex-col gap-2">
      <span>â³å»ºç«™å¤©æ•°ï¼š {{ siteDays }} å¤©</span>
      <span>ğŸ“Šæ€»è®¿é—®é‡ï¼š<span id="busuanzi_value_site_pv">0</span> æ¬¡</span>
      <span>ğŸ‘¥æ€»è®¿äººæ•°ï¼š<span id="busuanzi_value_site_uv">0</span> äºº</span>
    </div>
  </OpcityCard>
</template>

<style scoped></style>
